---
title: Linux文件与目录管理
tags: Linux学习笔记
---


### (一) 目录与路径
#### 1.相对路径与绝对路径
* 绝对路径:路径的写法一定由根目录/写起.
* 相对路径:路径的写法不是由/写起,相对路径相对于目前工作目录的路径.
#### 2. 目录的相关操作
* cd : 切换目录
cd是change directory的缩写,这是用来切换工作目录的命令.
* pwd : 显示当前目录
pwd是print woking directory的缩写,也就是显示目前所在目录的命令.
其实有趣的是哪个-P的参数.它可以让我们去的正确的目录名称,而不是以连接文件的路径来显示的.
```bash?linenums
# cd /var/mail
# pwd
/var/mail
# pwd -P
/var/spool/mail
```
* mkdir : 新建一个新的目录
```bash?linenums
#mkdir [-mp] 目录名称
参数:
-m:配置文件案的权限.直接设置,不需要看默认权限(umask)
-p:帮助你直接将所需要的目录(包含上层目录)低谷爱创建起来.
#参数范例
# mkdir -p test1/test2/test3/test4>>== "-p参数,系统自动帮你创建不存在的目录,如果该目录本来就已经存在时,系统也不会显示错误信息."==<<
# mkdir -m 711 test2 >>=="使用-m给予新的目录权限,默认去哪先跟umask有关"==<<
```
* rmdir : 删除一个空的目录
该rmdir命令仅仅能`"删除空的目录"`
#### 3.关于执行文件路径的变量: $PATH
PATH(一定是大写)这个变量的内容是由一堆目录所组成的,每个目录中间用冒号( : )来隔开,每个目录是有"顺序"之分的.
* 不同身份用户默认的PATH不同,默认能够随意执行的命令也不同(如root与其他用户)
* PATH是可以修改 ,所以一般用户还是可以通过修改PATH来执行某些位于/sbin或者/usr/sbin下的命令来查询;
* 使用绝对路径或相对路径直接指定某个命令的文件名来执行,会比查询PATH来的正确.
* 命令应该要放置到正确的目录下,执行才会比较方便
* 本目录( . )最好不要放到PATH当中.

### (二)文件与目录管理
#### 1.查看文件与目录:ls

> ls的参数说明 :
> ++-a : 全部的文件,连同隐藏文件(开头为 . 的文件)一起列出来(常用)++
>  -A : 列出全部的文件(连同隐藏文件,但不包括 . 与 .. 这两个目录)
> ++-d : 仅列出目录本身,而不是列出目录内的文件数据(常用)++
> -f : 直接勒出结构,而不进行排序(ls默认会以文件名排序)
> -F : 根据文件,目录等信息给予附加数据结构,例如:
>	*: 代表可执行文件 ; / : 代表目录 ; = : 代表socket文件, | :代表FIFO文件
>	-h : 将文件容量以人类较易读的方式(例如:GB,KB等)列出来
>	-i  列出inode号码.
>	++-l : 列出长数据串,包含文件的属性与权限等数据(常用)++
>	-n : 列出UID与GID,而非用户与用户组的名称
>	-r : 将排序结果反向输出,例如: 原本文件名由小到大,反向则为由大到小.
>	-R : 连同子目录内容一起列出来,等于该目录下的所有文件都会显示出来
>	-S : 以文件容量大小排序,而不是用文件名排序.
>	-t : 依时间排序,而不是用文件名
>	--color=never : 不要依据文件特征给予颜色显示
>	--color=always : 显示颜色
>	--color=auto : 让系统执行依据设置来判断是否给予颜色
>	--full-time : 以完整时间模式输出
>	--time=(atime,ctime):输出访问时间或改变权限属性时间(ctime),而非内容更改时间(modification time)

ls最长被使用到的功能还是那个-l的参数,系统默认将ll(L的小写)设置成为ls -l的意思了.
#### 2.复制,删除与移动:cp,rm,mv
1. cp : 命令除了单纯复制之外,还可以创建连接文件(就是快捷方式),对比两个文件的新旧而予以更新,以及复制整个目录等的功能.
>>参数说明:
> > ++-a : 相当于 -pdr 的意思(常用)++
> > -d  : 若源文件为连接文件的属性(link file),则复制连接文件属性而非文件本身.
> > -f : 为强制(force)的意思,若目标文件已经存在且无法开启,则删除后在尝试一次.
> > ++-i : 若目标文件(destination)已经存在时,在覆盖时会先询问操作的进行(常用)++
> > -l : 进行硬连接(hard link)的连接文件创建,而非复制文件本身;
> > -p : 连同文件的属性一起复制过去,而非使用默认属性(备份常用)
> > ++-r : 递归持续复制,用于目录的复制行为(常用)++
> > -s : 复制成为符号连接文件(symbolic link),即"快捷方式"文件
> > -u 若destination比source久才更新destination.
复制(cp)这个指令是非常重要的,不同身份者执行这个指令会有不同的结果产生,尤其是哪个-a,-p的选项,对于不同身份来说,差异则非常的大!底下的练习中,有的身份为root有的身份为一般账号.
```bash?linenums
范例一 : 用root身份,将家目录下的.bashrc复制到/tmp下,并更名为bashrc
[root@www ~]#cp ~/.bashrc /tmp/bashrc
[root@www ~]#cp -i ~/.bashrc /tmp/bashrc
cp:overwrite `/tmp/bashrc`? n <==n不覆盖,y为覆盖
#重复作两次动作,优于/tmp底下已经存在bashrc了,加上-i选项后,则在覆盖浅灰询问使用者是否确定!可以按下n或者y来二次确认.
```
这个cp的功能很多,由于我们常常会进行一些数据的复制,所以也会常常用到这个指令.一般来说,我们如果去复制别人的数据时,总是希望复制到的数据最后是我们自己的,所以,在预设的条件中,cp的来源档的权限是不同的,目的档的拥护者通常会是指令操作者本身.举例来说,由于root的身份,因此复制过来的档案拥有者与群组就改变成为root所有了.
由于具有这个特性,因此当我们在进行备份的时候,某些需要特别注意的特殊权限文件,就不能直接以cp复制,而必须要加上-a或者-p等等可以完成复制文件权限的选项才行.如果你想要复制文件给其他的使用者,也必须要注意到档案的权限(包含读,写,执行),否则,其他人还是无法针对你给予的文件进行修改的动作.
总之,由于cp有种种的文件属性与权限的特性,所以,在复制时,你必须要清楚的了解到:
* 是否需要完成的保留来源文件的信息.
* 来源文件是否为连接文件(symbolic link file)
* 来源文件是否为特殊的文件,例如FIFO,socket等
* 来源文件是否为目录
2. rm(移除文件或目录)
这是移除的命令(remove),要注意的是,通常linux系统下,为了怕文件被误删,都已经默认加入-i选项了,而如果要连目录下的东西都一起删掉的话,那就要使用-r这个选项了,
>> 参数说明:
>> -f : 就是force的意思,忽略不存在的文件,不会出现经过讯息
>> -i : 互动模式,在删除前会询问使用者是否动作
>> -r : 递归删除.最常用再目录的删除.
3. mv(移动文件与目录,或更名)
这是移动(move)的意思.当你要移动文件或目录的时候,这个命令就很重要.同样,你也可以使用-u(update)来测试新旧文件,看看是否需要移动.另外一个用途就是"更改文件名",我们可以很轻易地使用mv来更改一个文件的文件名.
>> 参数说明:
>> -f : force 强制的意思,如果目标文件已经存在,不会询问而直接覆盖
>> -i : 若目标文件(destination)已经存在时,就会询问是否覆盖
>> -u : 若目标文件已经存在,且source比较新,才会更新(update).
#### 3.取的路径的文件名与目录名称
你是怎么知道那个是文件名?那个是目录名?就是用斜线( / )来分辨.其实,取得文件名或者是目录名称,一般的用途应该是在写程序的时候用来判断使用的.所以,这部分的命令可以用在shell里头.下面一个范例简单地说一说basename与dirname的用途
```bash?linenums
[root@www ~]# basename /etc/sysconfig/network
network                 <==很简单! 就取得最后的文件名
[root@www ~]# dirname /etc/sysconfig/network
/etc/sysconfig        <==取得目录名.
```
### (三)文件内容查阅












